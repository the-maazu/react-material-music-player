(this["webpackJsonpreact-material-music-player"]=this["webpackJsonpreact-material-music-player"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),o=n.n(i),c=(n(114),n.p+"static/media/logo.103b5fa1.svg"),l=(n(115),n(67)),s=n(45),u=n(170),d=n(167),h=n(164),p=n(169),f=n(172),j=n(34),m=n(168),b=n(173),v=n(2),g=Object(h.a)((function(){return{root:{height:function(e){return e.size},width:function(e){return e.size},overflow:"hidden","& > img":{height:"100%",width:"100%"}}}}));function O(e){var t=e.src,n=e.size,r=g({size:n});return Object(v.jsx)("div",{className:r.root,children:Object(v.jsx)("img",{src:t,alt:"cover art"})})}var y=n(30),x=n(31),E=n(32),T=n(36),S=n(166),w=n(6),A=function(e){Object(E.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={scrolling:!1},r.props=e,r.rootRef=a.a.createRef(),r.textRef=a.a.createRef(),r}return Object(x.a)(n,[{key:"updateScrollingEffect",value:function(e,t){var n=this.rootRef.current,r=this.textRef.current;n.clientWidth<r.scrollWidth&&!this.state.scrolling?(r.style.width="".concat(r.scrollWidth+8,"px"),r.style.animationName="slide-horizontal",r.style.animationDuration="".concat(r.textContent.length/4,"s"),r.style.animationIterationCount="infinite",r.style.animationFillMode="forwards",this.setState({scrolling:!0})):n.clientWidth>=r.scrollWidth/2&&this.state.scrolling&&(r.style.width="auto",r.style.animationName=void 0,r.style.animationDuration="0",r.style.animationIterationCount="1",r.style.animationFillMode=void 0,this.setState({scrolling:!1}))}},{key:"componentDidUpdate",value:function(){this.updateScrollingEffect()}},{key:"componentDidMount",value:function(){this.updateScrollingEffect()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes;return Object(v.jsx)("div",{className:n.root,ref:this.rootRef,children:Object(v.jsxs)("div",{ref:this.textRef,className:n.textContainer,children:[Object(v.jsx)(S.a,{align:this.state.overflown?"left":"center",display:"inline",children:t}),this.state.scrolling?Object(v.jsx)(S.a,{align:this.state.overflown?"left":"center",display:"inline",children:t}):null]})})}}]),n}(a.a.Component),k=Object(w.a)((function(e){return{root:{whiteSpace:"nowrap",overflow:"hidden"},textContainer:{"& p":{marginRight:e.spacing()}}}}))(A);function I(e){var t=e.title,n=e.artist,r=e.showArtist;return Object(v.jsxs)("div",{children:[Object(v.jsx)(k,{children:t}),r?Object(v.jsx)(k,{children:n}):null]})}var C=n(175);var N=function(e){var t=Math.floor(e/60).toString(),n=Math.floor(e%60).toString();return t+":"+(n.length<2?"0":"")+n},L=Object(h.a)((function(e){return{root:{width:"100%"},timeText:{margin:e.spacing(1)},slider:{width:"95%"}}}));function P(e){var t=L(),n=e.timeLeft,r=e.currentTime,a=e.onSeek,i=r/(n+r)*100;return Object(v.jsxs)(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center",wrap:"nowrap",className:t.root,children:[Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(S.a,{className:t.timeText,children:N(r)})}),Object(v.jsx)(d.a,{item:!0,className:t.slider,children:Object(v.jsx)(C.a,{"aria-labelledby":"continuous-slider",value:i,onChange:function(e,t){a(t/100*(r+n))}})}),Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(S.a,{className:t.timeText,children:N(n)})})]})}var M=n(92),_=n.n(M),R=n(90),D=n.n(R),U=n(64),Y=n.n(U),H=n(91),z=n.n(H);var F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){t.stopPropagation(),e.apply(void 0,n)}};function G(e){var t=e.isPlaying,n=e.onPlay,r=e.onPause,a=e.onSkipPrev,i=e.onSkipNext,o=e.disabled;return Object(v.jsxs)(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center",wrap:"nowrap",children:[Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(m.a,{onClick:F(a),disabled:o,children:Object(v.jsx)(D.a,{fontSize:"large"})})}),Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(m.a,{onClick:F(t?r:n),disabled:o,children:t?Object(v.jsx)(z.a,{fontSize:"large"}):Object(v.jsx)(Y.a,{fontSize:"large"})})}),Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(m.a,{onClick:F(i),disabled:o,children:Object(v.jsx)(_.a,{fontSize:"large"})})})]})}var B=n(94),V=n.n(B),K=n(93),X=n.n(K),W=Object(h.a)((function(e){return{root:{width:"100%"},slider:{width:"50%"}}}));function q(e){var t=W(),n=e.value,r=e.onVolumeChange;return Object(v.jsxs)(d.a,{container:!0,direction:"row",justify:"center",alignItems:"center",wrap:"nowrap",className:t.root,children:[Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(m.a,{onClick:F(r,n<10?0:n-10),children:Object(v.jsx)(X.a,{})})}),Object(v.jsx)(d.a,{item:!0,className:t.slider,children:Object(v.jsx)(C.a,{value:n,"aria-labelledby":"continuous-slider",onChange:function(e,t){r(t)}})}),Object(v.jsx)(d.a,{item:!0,children:Object(v.jsx)(m.a,{onClick:F(r,n>90?100:n+10),children:Object(v.jsx)(V.a,{})})})]})}var J=n(68),$=n(176),Q=n(171),Z=n(97),ee=n.n(Z),te=n(98),ne=n.n(te),re=n(96),ae=n.n(re),ie=n(174),oe=n(95),ce=n.n(oe),le=function(e){Object(E.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(x.a)(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.dragHandleProps,r=e.commonProps,a=e.classes;return Object(v.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",wrap:"nowrap",className:a.root,onClick:F(r.onTrackSelect,r.listOfID.findIndex((function(e){return e===t.ID}))),children:[Boolean(r.currentTrackID===t.ID)?Object(v.jsx)(Y.a,{item:!0}):null,Object(v.jsx)(O,{item:!0,src:t.coverArt,size:"50px"}),Object(v.jsxs)(d.a,{item:!0,xs:9,children:[Object(v.jsx)(S.a,{variant:"subtitle1",children:t.title}),Object(v.jsx)(S.a,{variant:"subtitle2",children:t.artist})]}),Object(v.jsx)(d.a,{item:!0,xs:1,children:Object(v.jsx)(ce.a,Object(s.a)(Object(s.a)({item:!0},n),{},{onClick:function(e){e.stopPropagation()}}))})]})}}]),n}(a.a.Component),se=Object(w.a)((function(e){return{root:{maxHeight:"100%",border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,padding:e.spacing(),"& > *":{marginRight:e.spacing()}},coverArt:{height:"50px"},nowPlayingIconContainer:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}}}))(le),ue=Object(h.a)((function(e){return{root:{width:"100%",position:function(e){return e?"relative":null},bottom:function(e){return e?0:null}},draggablelistContainer:{overflow:"auto",height:function(e){return e?"50vh":"60vh"},width:function(e){return e?"25vw":null},margin:e.spacing()},buttonGroup:{width:"100%"},button:{width:"50%"}}}));function de(e){var t=e.list,n=e.isShuffled,i=e.currentTrackIndex,o=e.isDesktop,c=e.onReorder,l=e.onShuffle,s=e.onTrackSelect,d=ue(o),h=Object(r.useState)(n?["shuffle"]:[]),f=Object(J.a)(h,2),j=f[0],m=f[1],b=Object(r.useState)(!1),g=Object(J.a)(b,2),O=g[0],y=g[1],x=Object(r.useState)(null),E=Object(J.a)(x,2),T=E[0],S=E[1],w=a.a.createRef(),A=Object(v.jsx)(p.a,{elevation:"0",className:d.draggablelistContainer,ref:w,children:Object(v.jsx)(ae.a,{list:t,itemKey:"ID",template:se,onMoveEnd:function(e){c(e,e.findIndex((function(e){return e.ID===t[i].ID})))},container:function(){return w.current},commonProps:{listOfID:t.map((function(e){return e.ID})),currentTrackID:t[i].ID,onTrackSelect:s}})});return Object(v.jsxs)("div",{className:d.root,children:[o?Object(v.jsx)(ie.a,{open:Boolean(T),anchorEl:T,onClose:function(e){var t=j.filter((function(e){return"show-playlist"!==e}));console.log(t),m(t),S(null),y(!1)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:A}):Object(v.jsx)(u.a,{collapsedHeight:"0",in:O,children:A}),Object(v.jsxs)($.a,{className:d.buttonGroup,position:"center",value:j,onChange:function(e,t){e.stopPropagation(),m(t),Boolean(t.find((function(e){return"show-playlist"===e})))?(S(e.target.parentElement.parentElement),y(!0)):y(!1),Boolean(t.find((function(e){return"shuffle"===e})))?l(!0):l(!1)},children:[Object(v.jsx)(Q.a,{value:"shuffle",className:d.button,children:Object(v.jsx)(ee.a,{})}),Object(v.jsx)(Q.a,{value:"show-playlist",className:d.button,children:Object(v.jsx)(ne.a,{})})]})]})}var he={CHANGE_TRACK:"CHANGE_TRACK",PLAY:"PLAY",PAUSE:"PAUSE",STOP:"STOP",SHUFFLE:"SHUFFLE",UPDATE_PLAYLIST:"UPDATE_PLAYLIST",CHANGE_VOLUME:"CHANGE_VOLUME",SET_START_TIME:"SET_START_TIME",SET_STOP_TIME:"SET_STOP_TIME",SET_CURRENT_TIME:"SET_CURRENT_TIME",SET_TIME_LEFT:"SET_TIME_LEFT",MAXIMISE:"MAXIMISE",MINIMISE:"MINIMISE",SEEK:"SEEK"},pe={changeTrack:function(e){return{type:he.CHANGE_TRACK,payload:{index:e}}},play:function(){return{type:he.PLAY}},pause:function(){return{type:he.PAUSE}},updatePlaylist:function(e){return{type:he.UPDATE_PLAYLIST,payload:{playlist:e}}},volumeChange:function(e){return{type:he.VOLUME_CHANGE,payload:{level:e}}},shuffle:function(e){return{type:he.SHUFFLE,payload:{shuffle:e}}},maximise:function(){return{type:he.MAXIMISE}},minimise:function(){return{type:he.MINIMISE}},setCurrentTime:function(e){return{type:he.SET_CURRENT_TIME,payload:{currentTime:e}}},setTimeLeft:function(e){return{type:he.SET_TIME_LEFT,payload:{timeLeft:e}}},seek:function(e){return{type:he.SEEK,payload:{time:e}}},changeVolume:function(e){return{type:he.CHANGE_VOLUME,payload:{volume:e}}}},fe=(n(138),"90vh"),je="10vh",me=Object(h.a)((function(e){return{root:{position:"fixed",bottom:0,overflow:function(e){return e?"visible":"hidden"}},paper:{width:"100vw",height:fe},container:{"& > div":{margin:function(t){return t?e.spacing():null}}},dropDownButton:{width:"100%",order:7,"& > *":{transform:"rotate(90deg)"}},coverArt:{order:6},trackDetails:{width:function(e){return e?"10%":"20%"},order:5},progressBar:{width:function(e){return e?"60%":"80%"},order:function(e){return e?3:4}},control:{width:function(e){return e?"10%":"60%"},order:function(e){return e?4:3}},volumeControl:{width:function(e){return e?"10%":"100%"},order:2},playlistControl:{width:function(e){return e?"10%":"100%"},order:1}}}));var be=Object(l.b)((function(e){return Object(s.a)({},e)}),(function(e){return{onPlay:function(){return e(pe.play())},onPause:function(){return e(pe.pause())},onChangeTrack:function(t){return e(pe.changeTrack(t))},onReorder:function(t,n){e(pe.updatePlaylist(t)),e(pe.changeTrack(n))},onShuffle:function(t){return e(pe.shuffle(t))},onMaximise:function(){return e(pe.maximise())},onMinimise:function(){return e(pe.minimise())},onSeek:function(t){return e(pe.seek(t))},onVolumeChange:function(t){return e(pe.changeVolume(t))}}}))((function(e){var t=Object(j.a)(),n=Object(f.a)("(min-width:768px)"),r=me(n),a=e.mediaState,i=e.currentTrack,o=e.shuffled,c=e.maximised,l=e.playlist,s=e.onPlay,h=e.onPause,g=e.onChangeTrack,y=e.onReorder,x=e.onShuffle,E=e.onMaximise,T=e.onMinimise,S=e.currentTime,w=e.timeLeft,A=e.onSeek,k=e.onVolumeChange,C=e.volume;return 0===l.length?null:Object(v.jsx)(u.a,{className:r.root,collapsedHeight:je,in:c,children:Object(v.jsx)(p.a,{className:r.paper,onClick:F((function(){n||c||E()})),children:Object(v.jsxs)(d.a,{container:!0,direction:c?"column-reverse":"row-reverse",justify:"space-between",alignItems:"center",wrap:"nowrap",className:r.container,style:{height:c?fe:je,padding:c?t.spacing(4):t.spacing(),paddingTop:"0px"},children:[c?Object(v.jsx)(m.a,{className:r.dropDownButton,onClick:F((function(){c&&T()})),children:Object(v.jsx)(b.a,{fontSize:"small"})}):null,Object(v.jsx)(d.a,{item:!0,className:r.coverArt,children:Object(v.jsx)(O,{src:l[i].coverArt,size:c?"40vh":"6vh"})}),Object(v.jsx)(d.a,{item:!0,className:r.trackDetails,style:{width:c?"80%":null},children:Object(v.jsx)(I,{title:l[i].title,artist:l[i].artist,showArtist:c})}),c||n?Object(v.jsx)(d.a,{item:!0,className:r.progressBar,children:Object(v.jsx)(P,{currentTime:S,timeLeft:w,onSeek:A})}):null,Object(v.jsx)(d.a,{item:!0,className:r.control,children:Object(v.jsx)(G,{disabled:0===l.length,isPlaying:"playing"===a,onPlay:s,onPause:h,onSkipNext:function(){return g(i+1)},onSkipPrev:function(){return g(i-1)}})}),c||n?Object(v.jsx)(d.a,{item:!0,className:r.volumeControl,children:Object(v.jsx)(q,{value:C,onVolumeChange:k})}):null,c||n?Object(v.jsx)(d.a,{item:!0,className:r.playlistControl,children:Object(v.jsx)(de,{list:l,isShuffled:o,currentTrackIndex:i,isDesktop:n,onReorder:y,onShuffle:x,onTrackSelect:g})}):null]})})})}));function ve(e,t,n,r,a){this.ID=e,this.coverArt=t,this.title=n,this.artist=r,this.source=a,this.getSource=function(){return a}}var ge={PLAY:"PLAY",PLAYLATER:"PLAY LATER",PLAYNEXT:"PLAY NEXT"};var Oe={play:function(e){var t=new CustomEvent(ge.PLAY,{detail:e});window.dispatchEvent(t)},playNext:function(e){var t=new CustomEvent(ge.PLAYNEXT,{detail:e});window.dispatchEvent(t)},playLater:function(e){var t=new CustomEvent(ge.PLAYLATER,{detail:e});window.dispatchEvent(t)}},ye=n(49);var xe=Object(ye.b)({mediaState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stopped",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.PLAY:return"playing";case he.PAUSE:return"paused";case he.STOP:return"stopped";default:return e}},playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===he.UPDATE_PLAYLIST?t.payload.playlist:e},currentTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===he.CHANGE_TRACK?t.payload.index:e},shuffled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===he.SHUFFLE?t.payload.shuffle:e},maximised:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.MAXIMISE:return!0;case he.MINIMISE:return!1;default:return e}},currentTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===he.SET_CURRENT_TIME?t.payload.currentTime:e},timeLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===he.SET_TIME_LEFT?t.payload.timeLeft:e},volume:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===he.CHANGE_VOLUME?t.payload.volume:e}}),Ee=n(99),Te=n(80),Se=n(16),we=n(100),Ae=new(function(e){Object(E.a)(n,e);var t=Object(T.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.call(this)).track=new ve(-1,"","","",""),e}return Object(x.a)(n,[{key:"src",get:function(){return Object(Ee.a)(Object(Se.a)(n.prototype),"src",this)},set:function(e){void 0!==e||""!==e?(this.track=e,Object(Te.a)(Object(Se.a)(n.prototype),"src",e.source,this,!0)):Object(Te.a)(Object(Se.a)(n.prototype),"src","",this,!0)}}]),n}(Object(we.a)(Audio))),ke=function(e){return Ae.addEventListener("timeupdate",(function(){e.dispatch(pe.setCurrentTime(Math.floor(Ae.currentTime))),e.dispatch(pe.setTimeLeft(Math.floor(isNaN(Ae.duration)?0:Ae.duration-Ae.currentTime))),Ae.addEventListener("canplay",(function(){e.getState().mediaState===Le.playing&&Ae.play()})),Ae.addEventListener("ended",(function(){if(Ae.currentTime===Ae.duration){var t=e.getState().currentTrack;e.getState().mediaState===Le.playing&&e.dispatch(pe.changeTrack(++t))}}))})),Ae.volume=e.getState().volume/100,function(t){return function(n){var r=e.getState();switch(n.type){case he.CHANGE_TRACK:var a=Ae.track,i=r.playlist[n.payload.index];a.ID!==i.ID&&(Ae.src=r.playlist[n.payload.index],r.mediaState===Le.playing&&Ae.readyState>=2&&Ae.play());break;case he.PLAY:""===Ae.src&&(Ae.src=r.playlist[r.currentTrack]),Ae.play();break;case he.PAUSE:Ae.pause();break;case he.STOP:Ae.src="";break;case he.SEEK:""!==Ae.src&&(Ae.currentTime=n.payload.time);break;case he.CHANGE_VOLUME:Ae.volume=n.payload.volume/100}return t(n)}}},Ie=n(39);var Ce=function(e){return function(t){return function(n){var r=e.getState();if(n.type===he.SHUFFLE&&r.shuffled!==n.payload.shuffle){var a=r.playlist,i=r.currentTrack,o=a[r.currentTrack],c=a.slice(0,i),l=a.slice(i+1,a.lenth),s=c.concat(l);s=n.payload.shuffle?function(e){for(var t=e,n=0;n<Math.ceil(e.length/2);n++){var r=Math.round(Math.random()*(e.length-1)),a=Math.round(Math.random()*(e.length-1)),i=t[r];t[r]=t[a],t[a]=i}return t}(s):s.sort((function(e,t){return e.ID<t.ID})),e.dispatch(pe.updatePlaylist([o].concat(Object(Ie.a)(s)))),e.dispatch(pe.changeTrack(0))}return t(n)}}};var Ne=function(e){return function(t){return function(n){var r=e.getState();if(n.type!==he.CHANGE_TRACK||!(n.payload.index<0||n.payload.index>=r.playlist.length))return t(n)}}},Le={stopped:"stopped",playing:"playing",paused:"paused"},Pe=Object(ye.c)(xe,{mediaState:Le.stopped,currentTrack:0,shuffled:!1,maximised:!1,playlist:[],volume:25},Object(ye.a)((function(e){window.addEventListener(ge.PLAY,(function(t){e.dispatch(pe.updatePlaylist(t.detail))}));var t=function(t){var n=e.getState().playlist,r=e.getState().currentTrack,a=[];t.type===ge.PLAYNEXT?a=n.reduce((function(e,n,a){return a===r?[].concat(Object(Ie.a)(e),[n],Object(Ie.a)(t.detail)):[].concat(Object(Ie.a)(e),[n])}),[]):t.type===ge.PLAYLATER&&(a=n.concat(t.detail)),e.dispatch(pe.updatePlaylist(a))};return window.addEventListener(ge.PLAYNEXT,t),window.addEventListener(ge.PLAYLATER,t),function(e){return function(t){return e(t)}}}),Ce,Ne,ke));function Me(){return Object(v.jsx)(l.a,{store:Pe,children:Object(v.jsx)(be,{})})}var _e=ve,Re=Oe,De="https://raw.githubusercontent.com/the-maazu/react-material-music-player/master/sample_media/";window.setTimeout((function(){return Re.play([new _e(1,De+"bach.jpg","68 Choral","Bach",De+"Bach%20--%20BWV%20245%20--%2068%20Choral.mp3")])}),3e3),window.setTimeout((function(){return Re.playLater([new _e(2,De+"emerson.jpeg","All through the night","Emerson",De+"Emerson%20--%20All%20through%20the%20Night%20(Ar%20Hyd%20y%20Nos).mp3")])}),3e3),window.setTimeout((function(){return Re.playNext([new _e(3,De+"guido.jpg","Ut queant laxis","Guido von Arezzo",De+"Guido%20von%20Arezzo%20--%20Ut%20queant%20laxis.mp3")])}),6e3);var Ue=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)("img",{src:c,className:"App-logo",alt:"logo"}),Object(v.jsx)("p",{children:"react-material-music-player"}),Object(v.jsx)("a",{className:"App-link",href:"https://github.com/the-maazu/react-material-music-player",target:"_blank",rel:"noopener noreferrer",children:"github"})]}),Object(v.jsx)(Me,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(Ue,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.b7f98298.chunk.js.map